<link rel="import"
      href="/bower_components/polymer/polymer.html">
<link rel="import"
      href="/bower_components/core-header-panel/core-header-panel.html">
<link rel="import"
      href="/bower_components/core-toolbar/core-toolbar.html">
<link rel="import"
      href="/bower_components/paper-shadow/paper-shadow.html">
<link rel="import"
      href="/bower_components/paper-button/paper-button.html">
<link rel="import"
      href="/bower_components/paper-fab/paper-fab.html">
<link rel="import"
      href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import"
      href="/bower_components/core-icons/core-icons.html">
<link rel="import"
      href="/bower_components/core-icons/social-icons.html">
<link rel="import"
      href="/bower_components/core-icon/core-icon.html">
<link rel="import"
      href="/components/custom-icons.html">
<link rel="import"
      href="fire-control-popout-item.html">
<polymer-element name="fire-control-popout"
                 attributes="inputMode
                             interactMode
                             view
                             panels">
  <template>
    <div id="main-panel">
      <div id="header-panel">
        <span style="font-size: 24px;"
              flex>Fire<br>Control</span>
      </div>
      <div id="content-scroll-panel">
        <div id="content-panel" layout vertical reverse>
          <template repeat="{{object in objects}}">
            <template if="{{object.type == 'fire'}}">
              <fire-control-popout-item objectData="{{object}}"
                                        objects="{{objects}}"
                                        selectedItem="{{selectedItem}}"
                                        selected="{{selected}}"
                                        inputMode="{{inputMode}}"
                                        interactMode="{{interactMode}}"
                                        modeSelect="{{modeSelect}}">
              </fire-control-popout-item>
            </template>
          </template>
        </div>
      </div>
      <div id="top-gradient"></div>
      <div id="bottom-gradient"></div>
    </div>
    <div id="button-panel" layout vertical center center-justified>
      <span>Select<br>Fire Mode</span>
      <template repeat="{{mode in fireModes}}">
        <paper-fab id="{{mode}}"
                   class="fire-mode {{{selected:mode==modeSelectFire.mode}|tokenList}}"
                   src="/assets/icon/fire/icon_{{mode}}.svg"
                   on-tap="{{changeMode}}">
        </paper-fab>
      </template>
      <paper-shadow z="3" fit></paper-shadow>
    </div>
    <style>
      @font-face{
        font-family: Roboto;
        src: url(assets/font/Roboto-Medium.ttf);
      }
      @font-face{
        font-family: Roboto;
        src: url(assets/font/Roboto-Light.ttf);
        font-weight: 300;
      }
      *{
        font-family: Roboto;
        font-size: 20px;
        font-weight: 300;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        outline: 0px solid transparent;
        image-rendering: -webkit-optimize-contrast;
      }
      :host{
        color: #cdc;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
      }
      paper-shadow{
        pointer-events: none;
      }
      #main-panel{
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 3;
        background-color: #686;
      }
      #header-panel{
        position: absolute;
        font-size: 24px;
        top: 0;
        left: 0;
        right: 0;
        padding-top: 8px;
        text-align: center;
        height: 56px;
        line-height: 24px;
        background-color: #686;
        color: #cdc;
      }
      #content-scroll-panel{
        position: absolute;
        top: 64px;
        bottom: 0;
        left: 0;
        right: 0;
        overflow-y: scroll;
        overflow-x: hidden;
      }
      #add-button{
        color: #cdc;
        line-height: 64px;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 64px;
      }
      #add{
        padding: -12px;
        color: #cdc;
        background-color: #686;
      }
      #remove{
        left: 16px;
        bottom: 12px;
      }
      #content-scroll-panel::-webkit-scrollbar{
        width: 10px;
      }
      #content-scroll-panel::-webkit-scrollbar-thumb{
        background-color: #aba;
        border: 3px solid #686;
      }
      #content-panel{
        margin-top: 16px;
        text-align: center;
        width: 100%;
      }
      #bottom-gradient{
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.25));
      }
      #top-gradient{
        position: absolute;
        top: 64px;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0));
      }
      #toggle-button{
        transition: 0.25s;
        -webkit-transform: translateY({{panels.fire.open ? "0" : "-80px"}});
        z-index: 1;
        position: absolute;
        left: 176px;
        top: 72px;
        padding: 8px;
        background-color: #686;
        color: #cdc
      }
      #button-panel{
        transition: transform 0.5s;
        background: #686;
        position: absolute;
        transform: translateX(-200px);
        z-index: 3;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
      }
      #button-panel span{
        text-align: center;
        font-size: 24px;
        margin: 12px;
      }
      .fire-mode{
        margin: 12px;
        background-color: #fd0;
      }
      .selected{
        background-color: #fe7;
      }
    </style>
  </template>
  <script src="fire-control-popout.js"></script>
</polymer-element>
<fire-control-popout></fire-control-popout>